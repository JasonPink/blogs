(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{412:function(t,n,e){"use strict";e.r(n);var a=e(1),r=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"常用代码片段"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用代码片段"}},[t._v("#")]),t._v(" 常用代码片段")]),t._v(" "),n("h2",{attrs:{id:"javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript"}},[t._v("#")]),t._v(" JavaScript")]),t._v(" "),n("ul",[n("li",[t._v("下载 excel、word、ppt 等浏览器不会默认执行预览的文件")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("function download(link, name) {\n    if(!name){\n            name=link.slice(link.lastIndexOf('/') + 1)\n    }\n    let eleLink = document.createElement('a')\n    eleLink.download = name\n    eleLink.style.display = 'none'\n    eleLink.href = link\n    document.body.appendChild(eleLink)\n    eleLink.click()\n    document.body.removeChild(eleLink)\n}\ndownload('http://111.229.14.189/file/1.xlsx')\n")])])]),n("ul",[n("li",[t._v("url 参数解析")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("function getQueryParam(name) {\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(name);\n}\n")])])]),n("h2",{attrs:{id:"css"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[t._v("#")]),t._v(" CSS")]),t._v(" "),n("ul",[n("li",[t._v("滚动条样式")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("::-webkit-scrollbar {\n  width: 7px;\n  height: 5px;\n  border-radius:15px;\n  -webkit-border-radius:  15px;\n}\n::-webkit-scrollbar-track-piece {\n  background-color: #fff;\n  border-radius:15px;\n  -webkit-border-radius:  15px;\n}\n::-webkit-scrollbar-thumb:vertical {\n  height: 5px;\n  background-color: rgba(144, 147, 153, 0.5);\n  border-radius: 15px;\n  -webkit-border-radius:  15px;\n}\n::-webkit-scrollbar-thumb:horizontal {\n  width: 7px;\n  background-color: rgba(144, 147, 153, 0.5);\n  border-radius:  15px;\n  -webkit-border-radius: 15px;\n}\n")])])]),n("ul",[n("li",[t._v("自定义选中文本颜色")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("::selection {\n     background: #00ff00;\n}\n ::-moz-selection {\n     background: #00ff00;\n}\n ::-webkit-selection {\n     background: #00ff00;\n}\n")])])]),n("ul",[n("li",[t._v("文本溢出省略号")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("// 单行文本\n.ellipsis() {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n// 多行文本\n@mixin multi-ellipsis($line: 1) {\n  @if $line <= 0 {\n      $line: 1;\n  }\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: $line;\n  -webkit-box-orient: vertical;\n}\n")])])]),n("h2",{attrs:{id:"vue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[t._v("#")]),t._v(" Vue")]),t._v(" "),n("ul",[n("li",[t._v("echart 组件封装")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<template>\n\t<div class="chart-card">\n\t\t<div ref="chartRef" :style="{ height: currentHeight + \'px\' }"></div>\n\t</div>\n</template>\n<script setup>\n\timport {\n\t\tref,\n\t\tonMounted,\n\t\tonBeforeUnmount,\n\t\tmarkRaw,\n\t\twatch,\n\t\tcomputed\n\t} from "vue";\n\timport ResizeObserver from "resize-observer-polyfill";\n\n\timport { useDebounceFn } from "@vueuse/core";\n\timport _ from "lodash";\n\timport createDefaultOptions from "./defaultOptions";\n\n\tconst props = defineProps({\n\t\tfullOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true\n\t\t},\n\t\theight: {\n\t\t\ttype: String,\n\t\t\tdefault: () => 500\n\t\t}\n\t});\n\n\tconst chartRef = ref(null);\n\tconst currentHeight = computed(() => props.height);\n\tconst chartInstance = ref(null); // 当前dom节点挂载的echarts实例\n\n\tconst robserver = new ResizeObserver(entries => {\n\t\trequestAnimationFrame(() => {\n\t\t\tdebouncedResize();\n\t\t});\n\t});\n\n\tfunction chartResize() {\n\t\trobserver.observe(chartRef.value);\n\t}\n\n\tconst draw = () => {\n\t\tif (chartInstance.value) {\n\t\t\tconst allOptions = _.merge(createDefaultOptions(), props.fullOptions);\n\t\t\tconsole.log("完整图表配置", allOptions);\n\t\t\tchartInstance.value.setOption(allOptions, { notMerge: true });\n\t\t}\n\t};\n\n\tconst resize = () => {\n\t\tif (chartInstance.value) {\n\t\t\tchartInstance.value.resize({ animation: { duration: 300 } });\n\t\t}\n\t};\n\n\tconst debouncedResize = useDebounceFn(resize, 300, { maxWait: 800 });\n\n\tconst init = () => {\n\t\tif (!chartRef.value) return;\n\n\t\tchartInstance.value = echarts.getInstanceByDom(chartRef.value);\n\t\tif (!chartInstance.value) {\n\t\t\tchartInstance.value = markRaw(\n\t\t\t\techarts.init(chartRef.value, null, {\n\t\t\t\t\trenderer: "svg"\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tdraw();\n\t\t}\n\t};\n\n\twatch(\n\t\t() => props.fullOptions,\n\t\tnewVal => {\n\t\t\tconsole.log("图表配置变化！！！", newVal);\n\t\t\tdraw();\n\t\t}\n\t);\n\n\tonMounted(() => {\n\t\tinit();\n\t\tchartResize();\n\t});\n\n\tonBeforeUnmount(() => {\n\t\tchartInstance.value?.dispose();\n\t});\n\n\tdefineExpose({\n\t\tresize\n\t});\n<\/script>\n<style scoped lang="scss">\n\t.draggle-card {\n\t\tpadding-bottom: 20px;\n\t}\n</style>\n\n')])])])])}),[],!1,null,null,null);n.default=r.exports}}]);