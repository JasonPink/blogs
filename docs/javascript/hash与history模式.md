## 前端路由原理 hash 和 history

> 在了解路由原理之前，我们先来聊聊单页面应用，什么是单页面应用？

单页面应用（SPA）：单一页面应用程序，只有一个完整的页面。它在第一次加载页面时,就将唯一完整的 html 页面和所有其余页面组件一起下载下来，这样它在切换页面时，不会加载整个页面，而是只更新某个指定的容器中内容。**核心是更新视图而不重新请求页面**

MDN 解释：SPA 是指加载一个单独网页的 web 应用实现，当需要显示不同的内容时，它通过 JavaScript API（例如 XMLHttpRequest 和 Fetch）更新主体内容

### hash 模式

hash 模式是一种把前端路由的路径用井号 # 拼接在真实 url 后面的模式。当井号 # 后面的路径发生变化时，浏览器并不会重新发起请求，而是会触发 onhashchange 事件。

- hash 虽然出现在 URL 中，但不会被包括在 HTTP 请求中。它是用来指导浏览器动作的，对服务器端完全无用，因此，**改变 hash 不会重新加载页面**

### history 模式

history 模式 是 H5 提供的新特性，通过调用 window.history 对象上的一系列方法来实现页面的无刷新跳转，允许开发者直接更改前端路由，即更新浏览器 URL 地址而不重新发起请求。

- 使用 history 模式时，在对当前的页面进行刷新时，此时浏览器会使用当前页面路径重新发起请求。**如果 nginx 没有匹配得到当前的 url，就会出现 404 的页面**。Nginx 配置如下

```
try_files $uri $uri/ /index.html;
```
